# GDN Security Architecture Standards
This document serves as the source-of-truth for GDN Security Architecture standards. The table of security standards is defined as follows:
| Property  | Description  |
|---|---|
| Identifier  | A integer representing the standard. Must be unique among all GDN Security standards  |
| Short Name  | A snake_case short name of the standard. Must be unique among all GDN Security standards and no longer than 10-characters. May be used instead of the numerical identifier in diagrams.  |
| Category  | One of "authc", "authz", "trust", or "audit". Defined as: <ul><li>authc - Authentication standard</li><li>authz - Authorization standard</li><li>trust - Trust relationship standard</li><li>audit - Auditing standard</li><li>confidential - Confidentiality standard</li></ul> |
| Strength  | The relative strength of the standard for informing design decision preferences. One of "avoid", "weak", "sufficient", "strong". Defined as:  <ul><li>very weak - Do not use this standard unless no better alternative standard exists. It is considered insufficient.</li><li>weak - If a stronger standard is available, use it instead</li><li>sufficient - A suitable standard for most user cases with a balance of implementation complexity and utility</li><li>strong - The strongest standard available but may not be suitable for all use cases depending on implementation complexity</li></ul>  |
| Expiration  | The date when the standard must be reviewed and renewed or superseded by a new standard.  |
| Superseded By  | The numerical identifier of the standard that has or will replace the standard.  |
| Description  | A complete and accurate description of the standard technical, process, and people elements. A technical criteria section may also be present with a of criteria with requirement level as defined in defined in RFC 2119 <sup>1</sup>  |

# Referencing The Standards
Security standards should be referenced in diagrams or documents using the regex pattern of `\[((?[a-zA-Z_]+):(?\d+))|(?[a-z_])\]` such as `[GlobalDeveloperNetwork_sso]` or `[authc:100]`. The short name is preferred whenever it provides better readability.

# List of Security Standards

| Identifier  | Short Name  | Category | Strength | Expiration | Description |
|---|---|---|---|---|---|
| 100  | GDN_saml  | authc  | sufficient  | 12/01/2020  | End-user (human) authentication via SAML v2 single-sign on exchange via the GDN keycloak deployment brokering GlobalDeveloperNetwork SSO. GlobalDeveloperNetwork policy for 2FA, password complexity, rotation, etc. are applied at the GlobalDeveloperNetwork SSO IdP.  <br /><br /><b>Technical criteria defining this standard:</b><br /><br /><ul><li>SPs that support SAML single-sign-out <b>must</b> be configured to use single-sign-out</li><li>POST binding <b>must</b> be used</li><li>Client signature verification <b>must</b> be used if the SP supports it.</li><li>Assertions <b>may</b> be configured according to SP requirements, but <b>must</b> include either email or cecid as username and <b>should</b> use email whenever possible</li></ul>  |
| 101  | GDN_oidc  | authc  | sufficient  | 12/01/2020  | End-user (human) authentication via OIDC single-sign on exchange via the GDN keycloak deployment brokering GlobalDeveloperNetwork SSO. GlobalDeveloperNetwork policy for 2FA, password complexity, rotation, etc. are applied at the GlobalDeveloperNetwork SSO IdP. <br /><br /><b>Technical criteria defining this standard:</b><br /><br /> <ul><li>Clients <b>should</b> use bearer-only access type whenever possible.</li><li>Clients <b>should not</b> use public access type</li></ul>  |
| 102  | jwt_authc  | authc  | sufficient  | 12/01/2020  | Bearer (human or machine) authentication using the JWT specification via the GDN keycloak deployment brokering GlobalDeveloperNetwork SSO. GlobalDeveloperNetwork policy for 2FA, password complexity, rotation, etc. are applied at the GlobalDeveloperNetwork SSO IdP.  <br /><br /><b>Technical criteria defining this standard:</b><br /><br /> <ul><li>JWT access token <b>must</b> be used</li><li>Access tokens <b>must</b> expire within 5 minutes of issue</li><li>Access tokens <b>must</b> be treated as secrets with the applicable secrets management standards</li></ul>  |
| 103  | jwt_authz  | authz  | sufficient  | 12/01/2020  | Bearer (human or machine) authorizations using the JWT specification via the GDN keycloak deployment brokering GlobalDeveloperNetwork SSO. GlobalDeveloperNetwork policy for 2FA, password complexity, rotation, etc. are applied at the GlobalDeveloperNetwork SSO IdP. <br /><br /><b>Technical criteria defining this standard:</b><br /><br /> <ul><li>Claims <b>must</b> include userid</li><li>Userid <b>should</b> be email</li><li>Userid <b>should</b> be CEC ID if the SP does not support emails for userid</li><li>Claims <b>must</b> include GlobalDeveloperNetwork AD groups assignment</li></ul> |
| 104  | api_authc  | authc  | sufficient  | 12/01/2020  | Authentication of machine clients to services with a long-lived api key. Inherits all requirements from `jwt_authc` with the exception of changing token type from access to offline.  |
| 105  | https_le  | trust  | weak  | 12/01/2020  | HTTPS using TLS certificates issued for specific DNS names. This is an implicit type of trust based on the client-side configuration of a target URL. It is implicit because the client will trust whatever host it is pointed at as long as the hosts presents a valid certificate signed by the the trusted root CAs of the client. This assumes that DNS is not compromised, and that the CA issuing the certificate for the target host is also not compromised, and the host itself is not compromised. There is no direct trust between the client and server, and trust is only established one direction (client trusts server).    <br /><br /><b>Technical criteria defining this standard:</b><br /><br /> <ul><li>TLS v1.2 or higher <b>must</b> be used to establish authenticity and confidentiality of the network traffic from the server</li><li>The client <b>must</b> not present a certificate for authentication via TLS</li><li>HTTP <b>must</b> be used as the application protocol</li><li>The host certificate must be issued by Let's Encrypt CA's <sup>2</sup></li></ul> |
| 106  | GDN_logs  | auditing  | sufficient  | 12/01/2020  | Basic storage and handling of log information for GDN platform services (not tenant workloads) <br /><br /><b>Technical criteria defining this standard:</b><br /><br /> <ul><li>Logs <b>must</b> be stored in the GDN logging service index dedicated for GDN logs</li><li>Logs <b>must</b> include all stdout and stderr output</li><li>Logs <b>must not</b> be persisted within the application</li></ul>  |
| 109  | ssh_pki  | authc  | sufficient  | 12/01/2020  | The SSH protocol (also referred to as Secure Shell) is a method for secure remote login from one computer to another. It provides several alternative options for strong authentication, and it protects the communications security and integrity with strong encryption. It is a secure alternative to the non-protected login protocols (such as telnet, rlogin) and insecure file transfer methods (such as FTP).   <br /><br /><b>Technical criteria defining this standard:</b><br /><br /> <ul><li>A private key <b>must</b> be utilized</li><li>Key length <b>must</b> be 4096</li><li><b>Must</b> be SSH2 or higher</li><li>Keys <b>must</b> be password protected or stored on a hardware token with pin</li></ul> |
| 110  | ssh_keyfile  | authz  | weak	 | 12/01/2020  | The authorized keys file determines your user, which in turn provides access and authorization to only certain files on the remote host. This is a course grained standard because authentication and authorization are closely correlated.  <br /><br /><b>Technical criteria defining this standard:</b><br /><br /> <ul><li>Public key cert file <b>must</b> be stored in a location that cannot be tampered with</li></ul> |
| 111  | ssh_vault  | authz  | strong  | 12/01/2020  | The Vault SSH secrets engine provides secure authentication and authorization for access to machines via the SSH protocol. The Vault SSH secrets engine helps manage access to machine infrastructure, providing several ways to issue SSH credentials.  |
| 112  | vault_pki  | trust  | sufficient  | 12/01/2020  | The PKI secrets engine generates dynamic X.509 certificates. With this secrets engine, services can get certificates without going through the usual manual process of generating a private key and CSR, submitting to a CA, and waiting for a verification and signing process to complete. Vault's built-in authentication and authorization mechanisms provide the verification functionality.  <br /><br /><b>Technical criteria defining this standard:</b><br /><br />  <ul><li><b>Should</b> use Vault (a GlobalDeveloperNetwork/Community approved install of Vault)</li></ul> |
| 113  | tls_pki  | authc  | sufficient  | 12/01/2020  | A digital certificate that certifies the ownership of a public key by the named subject of the certificate and indicates certain expected usages of that key.  <br /><br /><b>Technical criteria defining this standard:</b><br /><br />  <ul><li>TLS v1.2 or higher <b>must</b> be used to establish authenticity and confidentiality of the network traffic from the server</li><li>Key length <b>must</b> be 4096</li></ul>  |
| 114  | tls_cert_file  | authz  | weak  | 12/01/2020   | Validation that a party possessing a digital certifiate is authorized to communcate with host. <br /><br /><b>Technical criteria defining this standard:</b><br /><br />  <ul><li>Public key cert file <b>must</b> be stored in a location that cannot be tampered with</li></ul>   |
| 115  | tls_vault  | authz  | sufficient  | 12/01/2020  | Validation that a party possessing a digital certifiate is authorized to communcate with host.  |
| 116  | pw_authc  | authc  | very weak  | 12/01/2020  | General username and password authentication, e.g., http basic auth, jdbc, and ssh without certs.  <br /><br /><b>Technical criteria defining this standard:</b><br /><br />  <ul><li>If used, <b>must</b> be done over an encrytped transport</li></ul>  |
| 117  | storage_aes256  | confidential  | sufficient  | 12/01/2020  | Encryption for all persistent data.  <br /><br /><b>Technical criteria defining this standard:</b><br /><br />  <ul><li>AES <b>must</b> be algorithim</li><li>Key length <b>must</b> be 256 bits</li></ul>|
| 118  | token_authc	| authc  | weak  | 12/01/2020  | General auth token  <br /><br /><b>Technical criteria defining this standard:</b><br /><br />  <ul><li>Minimum key length 20</li><li>`[0-9a-zA-Z]`</li><li>If used, <b>must</b> be done over an encrytped transport</li></ul>  |
| 119  | token_authz  | authz  | weak  | 12/01/2020  | General auth token  <br /><br /><b>Technical criteria defining this standard:</b><br /><br />  <ul><li>Minimum key length 20</li><li>`[0-9a-zA-Z]`</li><li>If used, <b>must</b> be done over an encrytped transport</li></ul>  |

# References

1. https://www.ietf.org/rfc/rfc2119.txt ↩
2. https://letsencrypt.org/ ↩
